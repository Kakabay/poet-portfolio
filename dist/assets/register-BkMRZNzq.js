import{z as l,r as x,q as h,x as v,j as e,F as j,c as r,y as m,g as c,D as k,E as w,p as N,s as z,B as S}from"./index-DUSLFOFJ.js";import{P as _}from"./page-layout-Dt7vodBQ.js";const V=l.object({first_name:l.string().min(2,"Пароль должен быть не менее 2 символов"),email:l.string().email("Неверный формат email"),password:l.string().min(8,"Пароль должен быть не менее 8 символов").regex(/[A-Za-z]/,"Пароль должен содержать буквы").regex(/\d/,"Пароль должен содержать цифры"),password_confirmation:l.string()}).refine(a=>a.password===a.password_confirmation,{message:"Пароли не совпадают",path:["password_confirmation"]}),D=()=>{const[a,d]=x.useState(1),g=h().setRegisterSuccess,s=v({resolver:w(V),defaultValues:{first_name:"",email:"",password:"",password_confirmation:""}}),u=async i=>{const o={first_name:i.first_name,email:i.email,password:i.password,password_confirmation:i.password_confirmation};try{await N.postUser(o),g(!0)}catch(b){console.log(b)}},y=async()=>{await s.trigger("email")&&d(o=>o+1)},f=async()=>{await s.trigger("first_name")&&d(o=>o+1)},t=h().accessToken,{isSubmitting:p,errors:n}=s.formState;return x.useEffect(()=>{t||d(1)},[t]),e.jsx(j,{...s,children:e.jsxs("form",{onSubmit:s.handleSubmit(u),className:r("md:w-[640px] mx-auto flex flex-col xl:gap-6 md:gap-6 gap-8"),children:[e.jsx("h2",{className:"h2 kaushan",children:"Kak zaregistrirowatsýa"}),e.jsxs("div",{className:r("leading-[150%] transition-opacity",(a!==1||t)&&"opacity-50 pointer-events-none"),children:[e.jsx("div",{className:"mb-4 text-[18px] leading-[110%] md:leading-[150%] font-medium md:font-normal md:text-[24px]",children:"1 shag"}),e.jsx("h4",{className:"font-semibold mb-2 leading-[150%] text-[20px] md:text-[24px]",children:"Vvedite vash email"}),e.jsx("h5",{className:"md:text-[18px] text-[16px] font-medium -tracking-wide leading-[145%] mb-6",children:"Ukazhite vash deystvuyushchiy adres elektronnoy pochty. On budet ispol'zovat'sya dlya vkhoda na sayt i polucheniya vazhnykh uvedomleniy."}),e.jsx(m,{disabled:a!==1||!!t,label:"Vvedite email v pole nizhe i nazhmite «Dalee»",control:s.control,placeholder:"Подсказка",type:"text",error:n.email,name:"email",className:"mb-8"}),e.jsx(c,{disabled:a!==1||!!t,type:"button",onClick:y,className:"w-full",children:"Dalee"})]}),e.jsxs("div",{className:r("leading-[150%] transition-opacity",(a!==2||!!t)&&"opacity-50 pointer-events-none"),children:[e.jsx("div",{className:"mb-4 text-[18px] leading-[110%] md:leading-[150%] font-medium md:font-normal md:text-[24px]",children:"2 shag"}),e.jsx("h4",{className:"font-semibold mb-2 leading-[150%] text-[20px] md:text-[24px]",children:"Vvedite vash email"}),e.jsx("h5",{className:"md:text-[18px] text-[16px] font-medium -tracking-wide leading-[145%] mb-6",children:"Ukazhite vash deystvuyushchiy adres elektronnoy pochty. On budet ispol'zovat'sya dlya vkhoda na sayt i polucheniya vazhnykh uvedomleniy."}),e.jsx(m,{disabled:a!==2,label:"Pridumayte username",control:s.control,placeholder:"Подсказка",type:"text",error:n.first_name,name:"first_name",className:"mb-8"}),e.jsx(c,{disabled:a!==2,type:"button",onClick:f,className:"w-full",children:"Dalee"})]}),e.jsxs("div",{className:r("leading-[150%] transition-opacity",(a!==3||!!t)&&"opacity-50 pointer-events-none"),children:[e.jsx("div",{className:"mb-4 text-[18px] leading-[110%] md:leading-[150%] font-medium md:font-normal md:text-[24px]",children:"3 shag"}),e.jsx("h4",{className:"font-semibold mb-2 md:leading-[150%] leading-[140%] text-[20px] md:text-[24px]",children:"Pridumayte parol'"}),e.jsx("h5",{className:"md:text-[18px] text-[16px] font-medium -tracking-wide leading-[145%] mb-6",children:"Sozdajte parol' dlya vashego akkaunta. Parol' dolzhen soderzhat' ne menee 8 simvolov, vklyuchaya bukvy, tsifry i spetsial'nye simvoly."}),e.jsx("div",{className:"text-[16px] font-medium leading-[150%] mb-4",children:e.jsx(m,{disabled:a!==3||!!t,className:"w-full mt-2 mb-8",label:"Vvedite parol'",control:s.control,placeholder:"Подсказка",type:"text",error:n.password,name:"password"})}),e.jsxs("div",{className:"text-[16px] font-medium leading-[150%]",children:[e.jsx(m,{disabled:a!==3,className:" w-full mt-2 mb-8",label:"Powtorite parol' i podtverdite ego, zatem nazhmite «Dalee».",control:s.control,placeholder:"Подсказка",type:"text",error:n.password_confirmation,name:"password_confirmation"}),e.jsx(c,{type:"submit",disabled:a!==3||p,className:"w-full",children:p?e.jsx(k,{}):"Register"})]})]})]})})},R=()=>(z(),e.jsx(_,{title:"Muşdaklar",className:"gap-12",text:"Dobro pozhalovat' v razdel «Synlar, ýatlamar, gutlaglar» nashego saita, gde kazhdoe slovo napolneno iskrennost'yu i teplotoy. Zdes' vy naydete utonchennye stikhi i prozu, kotorye pokoryat serdtsa vashikh blizkikh i druzey svoey krasotoy i glubinoy emotsiy.",children:e.jsxs("section",{className:"text-center relative shadow-bottom h-[1412px] xl:h-[1340px] md:h-[1306px] xl:w-[1200px] px-4 xl:px-0 py-8",children:[e.jsx(S,{className:'xl:bg-[url("/images/faq/register-shape1.svg")] md:bg-[url("/images/faq/register-med-shape.svg")] bg-[url("/images/faq/register-mob-shape.svg")] xl:register-path md:register-med-path register-mob-path'}),e.jsx(D,{})]})}));export{R as default};
