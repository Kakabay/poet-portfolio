import{j as e,m as f,B as j,g as b,p as S,r as n,s as w,c as N,A as P}from"./index-DHVO_Rqi.js";import{P as k}from"./page-layout-UcvAjhJs.js";import{P as _}from"./pagination-BICAacLT.js";import{S as z}from"./sort-modal-D3rxjmD1.js";import{T as E}from"./tabs-DgSMuJ5R.js";import{u as R}from"./useQuery-ShPTI-yv.js";const A=({position_author_review:t,categ:r,review_author:a})=>e.jsxs(f.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"md:px-6 relative p-4 md  :py-8 syn-hover flex flex-col gap-6 group shadow-bottom after:syn-mob-path md:after:syn-med-path xl:after:comments-1-path xl:w-[384px] xl:h-[378px] md:w-[372px] md:h-[372px] w-[328px] h-[334px]",children:[e.jsx(j,{className:'xl:bg-[url("/images/comments/1-shape.svg")] md:bg-[url("/images/comments/syn-med-shape.svg")] bg-[url("/images/comments/syn-mob-shape.svg")] syn-mob-path md:syn-med-path xl:comments-1-path'}),e.jsxs("div",{children:[e.jsx("h5",{className:"kaushan text-[18px] mb-4 text-ON_SURFACE_VAR",children:r}),e.jsx("p",{className:"group-hover:text-PRIM h-[100px]",children:t})]}),e.jsx("hr",{className:"text-OUTLINE_VAR"}),e.jsxs("div",{className:"flex flex-col justify-between h-full",children:[e.jsx("div",{className:"text-[14px] leading-[140%] h-5 xl:mb-9",children:e.jsx("h5",{className:"font-semibold  uppercase mb-2",children:a})}),e.jsx(b,{children:"Pereýti k istoçniku"})]})]}),T=()=>{const{data:t,isLoading:r,isError:a,isSuccess:i}=R({queryKey:["reviews"],queryFn:()=>S.getReviews(),select:({data:o})=>o});return{data:t,isLoading:r,isError:a,isSuccess:i}},C=[{name:"Wsýo",id:0},{name:"Synlar",id:1},{name:"Ýatlamalar",id:2},{name:"Gutlaglar",id:3}],U=()=>{const[t,r]=n.useState(1);w(t);const[a,i]=n.useState(0),[o,h]=n.useState(""),c=3,[x,g]=n.useState({id:"new",view:"Snaçala nowye"});n.useEffect(()=>{r(1)},[a]);const u=s=>{r(s)},{data:p}=T(),l=(p&&p.filter(s=>a===0&&s||a===1&&s.reviews_category_id===1||a===2&&s.reviews_category_id===2||a===3&&s.reviews_category_id===3))??[];console.log(l);const y=[...l].reverse(),m=()=>x.id==="new"?l:y,d=m().slice((t-1)*c,t*c);return e.jsxs(k,{title:"Synlar, ýatlamar, gutlaglar",text:"Dobro pozhalovat' v razdel «Synlar, ýatlamar, gutlaglar» nashego saita, gde kazhdoe slovo napolneno iskrennost'yu i teplotoy. Zdes' vy naydete utonchennye stikhi i prozu, kotorye pokoryat serdtsa vashikh blizkikh i druzey svoey krasotoy i glubinoy emotsiy.",children:[e.jsx(z,{search:o,setSearch:h,sort:x,setSort:g}),e.jsxs("section",{children:[e.jsxs("div",{className:"relative flex flex-col justify-center transition-all",children:[o?e.jsx("div",{className:N("absolute w-full left-1/2 -translate-x-1/2 xl:top-12 top-6 text-center pb-4 h-[50px]",l.length>0&&"border-b border-OUTLINE"),children:l.length>0?`Po «${o}» zaprosy naýdeno:`:"Niçego ne naýdeno!"}):e.jsx(E,{renderName:s=>s.name,array:C,setActive:i,active:a,className:"absolute xl:top-12 top-6 left-1/2 -translate-x-1/2"}),e.jsx("div",{className:"grid grid-cols-1 w-full md:grid-cols-2 xl:grid-cols-3 mt-[100px] xl:mt-[140px] gap-6",children:e.jsx(P,{children:d.map((s,v)=>e.jsx(A,{categ:"Synlar",...s},v))})})]}),d.length>0&&d.length<m().length&&e.jsx(_,{className:"mt-8",currentPage:t,totalPages:m().length,perPage:c,onChangePage:u})]})]})};export{U as default,C as tabs};
